@import 'tailwindcss';
@plugin '@tailwindcss/typography';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    --font-family-sans: 'Inter', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';

    /* ==== LIGHT MODE ==== */
    --color-background: oklch(0.98 0.02 95);
    /* soft white */
    --color-foreground: oklch(0.22 0.03 95);
    /* warm dark gray */
    --color-muted: oklch(0.92 0.02 95);
    /* gentle gray for backgrounds */
    --color-muted-foreground: oklch(0.40 0.03 95);
    /* lighter gray for secondary text */
    --color-card: oklch(1 0 0);
    /* white cards */
    --color-card-foreground: oklch(0.25 0.03 95);
    /* text inside cards */
    --color-border: oklch(0.90 0.02 95);
    /* subtle line color */
    --color-input: oklch(0.95 0.02 95);
    /* form field bg */
    --color-ring: oklch(0.70 0.10 180);
    /* teal-blue accent ring */

    --color-primary: oklch(0.70 0.10 180);
    /* muted Basecamp teal-blue */
    --color-primary-foreground: oklch(0.99 0.02 95);

    --color-secondary: oklch(0.92 0.02 95);
    --color-secondary-foreground: oklch(0.35 0.03 95);

    --color-accent: oklch(0.72 0.08 150);
    /* subtle minty tone */
    --color-accent-foreground: oklch(0.22 0.03 95);

    --color-destructive: oklch(0.60 0.18 30);
    /* muted warm red */
    --color-destructive-foreground: oklch(0.98 0.02 95);

    --radius-lg: 1rem;
}

@theme (dark) {
    /* ==== DARK MODE ==== */
    --color-background: oklch(0.18 0.03 95);
    /* very dark gray, slight warmth */
    --color-foreground: oklch(0.95 0.02 95);
    /* soft off-white */
    --color-muted: oklch(0.25 0.02 95);
    /* muted surfaces */
    --color-muted-foreground: oklch(0.70 0.03 95);
    --color-card: oklch(0.22 0.02 95);
    --color-card-foreground: oklch(0.90 0.02 95);
    --color-border: oklch(0.30 0.02 95);
    --color-input: oklch(0.25 0.02 95);
    --color-ring: oklch(0.70 0.10 180);

    --color-primary: oklch(0.70 0.10 180);
    --color-primary-foreground: oklch(0.99 0.02 95);

    --color-secondary: oklch(0.30 0.02 95);
    --color-secondary-foreground: oklch(0.85 0.02 95);

    --color-accent: oklch(0.65 0.07 150);
    --color-accent-foreground: oklch(0.98 0.02 95);

    --color-destructive: oklch(0.55 0.15 30);
    --color-destructive-foreground: oklch(0.98 0.02 95);

    --radius-lg: 1rem;
}

/* EasyMDE Editor Custom Styling */
.EasyMDEContainer {
    margin-top: 0.5rem;
}

.EasyMDEContainer .CodeMirror {
    background-color: oklch(0.95 0.02 95);
    color: oklch(0.22 0.03 95);
    border: 1px solid oklch(0.90 0.02 95);
    border-top: none;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    padding: 0.5rem;
    min-height: 300px;
}

.EasyMDEContainer .CodeMirror-scroll {
    min-height: 300px;
}

.EasyMDEContainer .CodeMirror-cursor {
    border-left-color: oklch(0.70 0.10 180);
}

.EasyMDEContainer .CodeMirror-selected {
    background-color: oklch(0.85 0.05 180);
}

.EasyMDEContainer .editor-toolbar {
    background-color: oklch(0.92 0.02 95);
    border: 1px solid oklch(0.90 0.02 95);
    border-bottom: none;
    border-radius: 0.5rem 0.5rem 0 0;
    padding: 0.5rem;
}

.EasyMDEContainer .editor-toolbar button {
    color: oklch(0.35 0.03 95);
    border: none;
    background-color: transparent;
    border-radius: 0.375rem;
    transition: all 0.2s;
}

.EasyMDEContainer .editor-toolbar button:hover,
.EasyMDEContainer .editor-toolbar button.active {
    background-color: oklch(0.88 0.02 95);
    color: oklch(0.70 0.10 180);
}

.EasyMDEContainer .editor-toolbar i.separator {
    border-left-color: oklch(0.90 0.02 95);
    border-right-color: transparent;
}

.EasyMDEContainer .editor-statusbar {
    color: oklch(0.40 0.03 95);
    background-color: oklch(0.92 0.02 95);
    border: 1px solid oklch(0.90 0.02 95);
    border-top: none;
    border-radius: 0 0 0.5rem 0.5rem;
    padding: 0.5rem;
}

.EasyMDEContainer .editor-preview,
.EasyMDEContainer .editor-preview-side {
    background-color: oklch(0.98 0.02 95);
    color: oklch(0.22 0.03 95);
    border: 1px solid oklch(0.90 0.02 95);
    padding: 2rem;
    font-size: 1.125rem;
    line-height: 1.75rem;
}

/* Apply prose styling to preview */
.EasyMDEContainer .editor-preview h1,
.EasyMDEContainer .editor-preview-side h1 {
    font-size: 2.25rem;
    font-weight: 700;
    color: oklch(0.22 0.03 95);
    margin-top: 0;
    margin-bottom: 1rem;
}

.EasyMDEContainer .editor-preview h2,
.EasyMDEContainer .editor-preview-side h2 {
    font-size: 1.875rem;
    font-weight: 700;
    color: oklch(0.22 0.03 95);
    margin-top: 2rem;
    margin-bottom: 1rem;
}

.EasyMDEContainer .editor-preview h3,
.EasyMDEContainer .editor-preview-side h3 {
    font-size: 1.5rem;
    font-weight: 700;
    color: oklch(0.22 0.03 95);
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
}

.EasyMDEContainer .editor-preview p,
.EasyMDEContainer .editor-preview-side p {
    color: oklch(0.22 0.03 95);
    line-height: 1.75;
    margin-bottom: 1rem;
}

.EasyMDEContainer .editor-preview a,
.EasyMDEContainer .editor-preview-side a {
    color: oklch(0.70 0.10 180);
    text-decoration: underline;
    text-decoration-color: oklch(0.70 0.10 180 / 0.5);
    text-underline-offset: 4px;
}

.EasyMDEContainer .editor-preview a:hover,
.EasyMDEContainer .editor-preview-side a:hover {
    text-decoration-color: oklch(0.70 0.10 180);
}

.EasyMDEContainer .editor-preview strong,
.EasyMDEContainer .editor-preview-side strong {
    color: oklch(0.22 0.03 95);
    font-weight: 600;
}

.EasyMDEContainer .editor-preview code,
.EasyMDEContainer .editor-preview-side code {
    background-color: oklch(0.92 0.02 95);
    color: oklch(0.35 0.03 95);
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
}

.EasyMDEContainer .editor-preview pre,
.EasyMDEContainer .editor-preview-side pre {
    background-color: oklch(0.92 0.02 95);
    border: 1px solid oklch(0.90 0.02 95);
    border-radius: 0.5rem;
    padding: 1rem;
    overflow-x: auto;
}

.EasyMDEContainer .editor-preview pre code,
.EasyMDEContainer .editor-preview-side pre code {
    background-color: transparent;
    padding: 0;
}

.EasyMDEContainer .editor-preview blockquote,
.EasyMDEContainer .editor-preview-side blockquote {
    border-left: 4px solid oklch(0.70 0.10 180);
    background-color: oklch(0.92 0.02 95 / 0.5);
    font-style: italic;
    padding: 1rem 1.5rem;
    margin: 1.5rem 0;
}

.EasyMDEContainer .editor-preview ul,
.EasyMDEContainer .editor-preview-side ul {
    list-style-type: disc;
    padding-left: 1.5rem;
    margin-bottom: 1rem;
}

.EasyMDEContainer .editor-preview ol,
.EasyMDEContainer .editor-preview-side ol {
    list-style-type: decimal;
    padding-left: 1.5rem;
    margin-bottom: 1rem;
}

.EasyMDEContainer .editor-preview li,
.EasyMDEContainer .editor-preview-side li {
    color: oklch(0.22 0.03 95);
    margin-bottom: 0.5rem;
}

.EasyMDEContainer .editor-preview li::marker,
.EasyMDEContainer .editor-preview-side li::marker {
    color: oklch(0.40 0.03 95);
}

.EasyMDEContainer .editor-preview hr,
.EasyMDEContainer .editor-preview-side hr {
    border-color: oklch(0.90 0.02 95);
    margin: 2rem 0;
}

.EasyMDEContainer .editor-preview table,
.EasyMDEContainer .editor-preview-side table {
    border: 1px solid oklch(0.90 0.02 95);
    border-collapse: collapse;
    width: 100%;
    margin-bottom: 1rem;
}

.EasyMDEContainer .editor-preview th,
.EasyMDEContainer .editor-preview-side th {
    background-color: oklch(0.92 0.02 95);
    font-weight: 600;
    padding: 0.75rem;
    border: 1px solid oklch(0.90 0.02 95);
}

.EasyMDEContainer .editor-preview td,
.EasyMDEContainer .editor-preview-side td {
    padding: 0.75rem;
    border: 1px solid oklch(0.90 0.02 95);
}

.EasyMDEContainer .editor-preview img,
.EasyMDEContainer .editor-preview-side img {
    border-radius: 0.5rem;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    max-width: 100%;
}

/* Dark mode styles */
@media (prefers-color-scheme: dark) {
    .EasyMDEContainer .CodeMirror {
        background-color: oklch(0.25 0.02 95);
        color: oklch(0.95 0.02 95);
        border-color: oklch(0.30 0.02 95);
        border-top: none;
    }

    .EasyMDEContainer .CodeMirror-cursor {
        border-left-color: oklch(0.70 0.10 180);
    }

    .EasyMDEContainer .CodeMirror-selected {
        background-color: oklch(0.35 0.05 180);
    }

    .EasyMDEContainer .editor-toolbar {
        background-color: oklch(0.30 0.02 95);
        border-color: oklch(0.30 0.02 95);
    }

    .EasyMDEContainer .editor-toolbar button {
        color: oklch(0.85 0.02 95);
    }

    .EasyMDEContainer .editor-toolbar button:hover,
    .EasyMDEContainer .editor-toolbar button.active {
        background-color: oklch(0.35 0.02 95);
        color: oklch(0.70 0.10 180);
    }

    .EasyMDEContainer .editor-toolbar i.separator {
        border-left-color: oklch(0.35 0.02 95);
    }

    .EasyMDEContainer .editor-statusbar {
        color: oklch(0.70 0.03 95);
        background-color: oklch(0.30 0.02 95);
        border-color: oklch(0.30 0.02 95);
    }

    .EasyMDEContainer .editor-preview,
    .EasyMDEContainer .editor-preview-side {
        background-color: oklch(0.22 0.02 95);
        color: oklch(0.90 0.02 95);
        border-color: oklch(0.30 0.02 95);
    }

    /* Dark mode prose styling */
    .EasyMDEContainer .editor-preview h1,
    .EasyMDEContainer .editor-preview-side h1,
    .EasyMDEContainer .editor-preview h2,
    .EasyMDEContainer .editor-preview-side h2,
    .EasyMDEContainer .editor-preview h3,
    .EasyMDEContainer .editor-preview-side h3 {
        color: oklch(0.95 0.02 95);
    }

    .EasyMDEContainer .editor-preview p,
    .EasyMDEContainer .editor-preview-side p,
    .EasyMDEContainer .editor-preview li,
    .EasyMDEContainer .editor-preview-side li,
    .EasyMDEContainer .editor-preview strong,
    .EasyMDEContainer .editor-preview-side strong {
        color: oklch(0.90 0.02 95);
    }

    .EasyMDEContainer .editor-preview code,
    .EasyMDEContainer .editor-preview-side code {
        background-color: oklch(0.30 0.02 95);
        color: oklch(0.85 0.02 95);
    }

    .EasyMDEContainer .editor-preview pre,
    .EasyMDEContainer .editor-preview-side pre {
        background-color: oklch(0.30 0.02 95);
        border-color: oklch(0.30 0.02 95);
    }

    .EasyMDEContainer .editor-preview blockquote,
    .EasyMDEContainer .editor-preview-side blockquote {
        background-color: oklch(0.30 0.02 95 / 0.5);
    }

    .EasyMDEContainer .editor-preview li::marker,
    .EasyMDEContainer .editor-preview-side li::marker {
        color: oklch(0.70 0.03 95);
    }

    .EasyMDEContainer .editor-preview hr,
    .EasyMDEContainer .editor-preview-side hr {
        border-color: oklch(0.30 0.02 95);
    }

    .EasyMDEContainer .editor-preview table,
    .EasyMDEContainer .editor-preview-side table,
    .EasyMDEContainer .editor-preview th,
    .EasyMDEContainer .editor-preview-side th,
    .EasyMDEContainer .editor-preview td,
    .EasyMDEContainer .editor-preview-side td {
        border-color: oklch(0.30 0.02 95);
    }

    .EasyMDEContainer .editor-preview th,
    .EasyMDEContainer .editor-preview-side th {
        background-color: oklch(0.30 0.02 95);
    }
}
